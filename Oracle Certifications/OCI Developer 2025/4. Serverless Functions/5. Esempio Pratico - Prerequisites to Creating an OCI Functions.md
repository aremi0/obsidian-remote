Prima di creare una Function in OCI, è fondamentale verificare di avere **risorse di rete sufficienti** per supportare il numero massimo previsto di esecuzioni concorrenti.

## 🧮 Esempio pratico

Scenario:

- **1 Function** in una **VCN** con **1 subnet regionale**
- **Memoria assegnata alla Function**: 512 MB (≈ 0,5 GB)
- **Numero massimo di esecuzioni concorrenti**: 2.000

### 1️⃣ Calcolo della memoria totale richiesta

$$ 0,5 \text{ GB} \times 2.000 = 1.000 \text{ GB} $$

### 2️⃣ Calcolo degli indirizzi IP necessari per l’esecuzione

Ogni **14 GB** di memoria massima prevista richiede **1 indirizzo IP** libero.  
$$ \frac{1.000 \text{ GB}}{14} \approx 72 \text{ IP liberi} $$

### 3️⃣ Aggiunta IP riservati per uso interno

OCI riserva **3 indirizzi IP** per ogni subnet: $$ 72 + (3 \times 1) = 75 \text{ IP totali necessari} $$

### 4️⃣ Dimensionamento CIDR

Con un calcolatore CIDR:

- Un blocco **/25** fornisce **128 indirizzi IP**
- Questo è **sufficiente** per i 75 richiesti dalla Function

---

## 📊 Schema visivo – Calcolo IP per OCI Functions

```
      ┌───────────────┐
      │  Function     │ 512 MB
      └───────┬───────┘
              │ x 2000 esecuzioni
              ▼
   Memoria totale: 1000 GB
              │
              ▼ ÷14 GB/IP
   IP liberi richiesti: 72
              │
              ▼ + 3 IP riservati
     Totale: 75 indirizzi IP
              │
              ▼
CIDR minimo: /25 (128 indirizzi)
```

---

## 🗂 Linee guida rapide per calcolo CIDR

|Memoria per funzione (GB)|Concurrency massima|Memoria totale (GB)|IP liberi richiesti _(÷14)_|IP totali _(+3 riservati)_|CIDR minimo consigliato|
|---|---|---|---|---|---|
|0,5|500|250|18|21|/27 (32 IP)|
|0,5|2.000|1.000|72|75|/25 (128 IP)|
|1|1.000|1.000|72|75|/25 (128 IP)|
|2|1.500|3.000|215|218|/23 (512 IP)|
|4|2.000|8.000|572|575|/22 (1.024 IP)|

> 🔹 **Nota**: per più funzioni nello stesso VCN/subnet, sommare le memorie massime e rifare il calcolo.

---

## 📚 Glossario

|Termine|Definizione|
|---|---|
|**VCN**|Virtual Cloud Network, rete privata virtuale isolata in OCI|
|**Subnet regionale**|Segmento di rete all’interno della VCN che copre un’intera regione OCI|
|**Esecuzioni concorrenti**|Numero massimo di istanze di funzione in esecuzione simultanea|
|**CIDR**|Classless Inter-Domain Routing, notazione per definire range di IP|
|**/25**|Prefisso CIDR che offre 128 indirizzi IP univoci|
|**IP riservati**|Indirizzi IP non assegnabili a risorse, usati internamente da OCI|

---
