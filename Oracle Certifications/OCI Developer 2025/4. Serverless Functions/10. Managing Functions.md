## 🛡 Resilienza e Disponibilità

In **OCI Functions**, la **resilienza** è la capacità del sistema di resistere a interruzioni o degrado delle prestazioni, mentre la **disponibilità** è la capacità di rimanere accessibile agli utenti.

Per garantire entrambe, OCI Functions distribuisce i componenti del **Control Plane** e del **Data Plane** su più **Availability Domain (AD)** e **Fault Domain (FD)** all’interno di una regione.  
Questa architettura distribuita assicura che, in caso di guasto in un dominio, il sistema possa passare automaticamente a un dominio alternativo, mantenendo la continuità operativa.

**Best practice**:

- Usare **subnet regionali** per le applicazioni
- Oppure distribuire le funzioni su più subnet specifiche per AD, aumentando la tolleranza ai guasti

---

## ⚙️ Concurrency e Scalabilità

- **Concurrency**: capacità di eseguire più operazioni in parallelo usando risorse condivise
- **Scalabilità**: capacità di aumentare o ridurre le risorse in base alla domanda

OCI Functions gestisce automaticamente più richieste simultanee tramite **scaling orizzontale automatico**:

- All’aumentare delle invocazioni, vengono avviati nuovi container per gestire il carico
- Limite predefinito: **60 GB di RAM** per esecuzioni di funzioni per AD (valore modificabile su richiesta)

---

## 🔒 Isolamento delle Esecuzioni

Quando funzioni di applicazioni diverse vengono eseguite in parallelo, OCI Functions garantisce **isolamento completo**:

- Nessuna interferenza tra esecuzioni
- Maggiore sicurezza e stabilità
- Ambiente di runtime separato per ogni funzione

---

## 🚀 Riduzione della Latenza Iniziale – Provisioned Concurrency

### Cold Start vs Hot Start

- **Cold Start**: prima invocazione di una funzione → provisioning di compute e rete → può richiedere alcuni secondi
- **Hot Start**: invocazioni successive → riuso dell’infrastruttura → risposta tipicamente **sub-secondo**

### Provisioned Concurrency

Per evitare la latenza del cold start, OCI Functions supporta la **Provisioned Concurrency**:

- Mantiene sempre pronta l’infrastruttura necessaria per un numero minimo di invocazioni concorrenti
- Misurata in **Provisioned Concurrency Units (PCU)**
- Buona pratica: impostare i PCU in base al numero di invocazioni concorrenti previste

**Esempio di valori minimi PCU per memoria funzione**:

|Memoria funzione|Min PCU|Incremento PCU|
|---|---|---|
|128 MB|40|40|
|256 MB|20|20|
|512 MB|10|10|
|≥1024 MB|10|10|

---

## 📊 Schema visivo – Architettura e Scaling

```
        ┌───────────────────────────────┐
        │   Control Plane (multi-AD)    │
        └───────────────┬───────────────┘
                        │
        ┌───────────────▼───────────────┐
        │   Data Plane (multi-AD/FD)    │
        └───────────────┬───────────────┘
                        │
        ┌───────────────▼───────────────┐
        │   Function Execution          │
        │  (Isolated Containers)        │
        └───────────────┬───────────────┘
                        │
        ┌───────────────▼───────────────┐
        │ Auto Scaling / PCU Provision  │
        └───────────────────────────────┘
```

---

## 📚 Glossario

|Termine|Definizione|
|---|---|
|**Control Plane**|Componente che gestisce configurazione e orchestrazione delle funzioni|
|**Data Plane**|Componente che esegue effettivamente le funzioni|
|**Availability Domain (AD)**|Zona fisica separata all’interno di una regione OCI|
|**Fault Domain (FD)**|Gruppo logico di hardware isolato per ridurre l’impatto di guasti locali|
|**Concurrency**|Numero di esecuzioni simultanee supportate|
|**Scalabilità orizzontale**|Aggiunta di istanze/container per gestire più carico|
|**Cold Start**|Prima esecuzione di una funzione con provisioning iniziale|
|**Hot Start**|Esecuzione successiva che riusa l’infrastruttura già pronta|
|**Provisioned Concurrency**|Riserva di infrastruttura per ridurre la latenza iniziale|
|**PCU**|Provisioned Concurrency Unit, unità di misura della capacità riservata|

---
