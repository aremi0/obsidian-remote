## ‚òÅÔ∏è 2. Introduction to Oracle Kubernetes Engine (OKE)

**Oracle Kubernetes Engine (OKE)** √® il servizio gestito di Oracle Cloud Infrastructure (OCI) per l‚Äôorchestrazione dei container tramite Kubernetes. OKE consente di deployare applicazioni **stateful** e **stateless**, integrandosi con strumenti CI/CD come Jenkins, GitLab CI/CD e CircleCI.

OKE si basa su Kubernetes, che raggruppa container in unit√† logiche chiamate **Pods**, facilitando il management e il discovery delle applicazioni. Le versioni di Kubernetes usate da OKE sono certificate dalla **Cloud Native Computing Foundation (CNCF)**.

---

### üß† Architettura gestita da Oracle

Tutti i componenti di sistema Kubernetes (es. `kube-scheduler`, `etcd`, `controller-manager`) sono **gestiti da Oracle**. OKE distribuisce copie multiple di questi componenti per garantire **alta disponibilit√†** e resilienza.

I nodi (incluso il master) sono serviti all‚Äôinterno della **tenancy OCI** dell‚Äôutente, in una regione specifica. OKE supporta sia **Linux** che **Windows Server** come sistema operativo per i nodi.

---

## üõ†Ô∏è 5. Prerequisites to Create an OKE Cluster

Per creare un cluster OKE, √® necessario soddisfare i seguenti requisiti:

#### üìã Accesso e risorse

1. **Accesso a una OCI Tenancy** con permessi adeguati
2. **Quote di servizio sufficienti**:
    - **Compute**: almeno un‚Äôistanza disponibile per i nodi
    - **Block Volume**: almeno **50 GB** per volumi persistenti
    - **Load Balancer**: quota sufficiente per bilanciare il traffico
    - **VCN e Subnet**: risorse di rete configurate o da creare automaticamente

#### üì¶ Compartimenti e configurazione

3. **Compartimento pronto** per ospitare le risorse del cluster
4. **Configurazione della rete**: VCN, subnet, security list, gateway
5. **Policy IAM**: per autorizzare la creazione e gestione del cluster

#### üß∞ Strumenti

6. **kubectl**: CLI per interagire con il cluster
7. **Kubeconfig**: file di configurazione per autenticarsi e accedere al cluster

---

### üîê Accesso a cluster con endpoint privato

Se il **Kubernetes API endpoint** del cluster non ha un IP pubblico, √® possibile accedere tramite il **OCI Bastion Service**, che crea un tunnel SSH sicuro.

#### Passaggi principali:

1. **Creare un Bastion** nella stessa VCN del cluster
2. **Generare il file kubeconfig** con endpoint privato:
    
    ```bash
    oci ce cluster create-kubeconfig \
      --cluster-id <cluster-ocid> \
      --file $HOME/.kube/config \
      --region <region> \
      --token-version 2.0.0 \
      --kube-endpoint PRIVATE_ENDPOINT
    ```
    
3. **Modificare il file kubeconfig** per puntare a `127.0.0.1:6443`
4. **Creare una sessione di port forwarding** con il Bastion
5. **Avviare il tunnel SSH** e usare `kubectl` localmente

Questa configurazione consente accesso sicuro senza esporre il cluster su Internet.

---

## üìö Glossario

|Termine|Definizione|
|---|---|
|**OKE**|Oracle Kubernetes Engine, servizio gestito per orchestrazione container|
|**Tenancy OCI**|Ambiente cloud dedicato all‚Äôutente su Oracle Cloud Infrastructure|
|**Quota di servizio**|Limiti sulle risorse disponibili nella tenancy|
|**Compartimento**|Spazio logico per organizzare risorse OCI|
|**VCN**|Virtual Cloud Network, rete virtuale in OCI|
|**kubectl**|CLI per interagire con cluster Kubernetes|
|**Kubeconfig**|File di configurazione per autenticarsi al cluster|
|**Bastion Service**|Servizio OCI per accesso sicuro a risorse private tramite tunnel SSH|

---
