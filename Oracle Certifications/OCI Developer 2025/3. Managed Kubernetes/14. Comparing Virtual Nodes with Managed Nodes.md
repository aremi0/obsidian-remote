### üìä Tabella di confronto

|Aspetto|**Managed Nodes**|**Virtual Nodes**|
|---|---|---|
|**Allocazione risorse**|A livello di **node pool**: si specificano CPU (OCPUs) e memoria per l‚Äôintero pool|A livello di **pod**: si specificano CPU e memoria (requests/limits) nel manifest|
|**Load Balancing**|Tra **worker nodes**|Tra **pod**; richiede configurazione manuale delle regole di sicurezza LB|
|**Pod Networking**|Supporta **VCN-Native CNI** e **Flannel CNI**|Solo **VCN-Native CNI**; 1 VNIC per nodo, IP non pre-allocati, route NAT+Service GW|
|**Scalabilit√†**|Responsabilit√† del cliente: <br>‚Ä¢ Aggiungere/rimuovere node pool o nodi<br>‚Ä¢ Abilitare autoscaling per pool e pod|Gestita da OCI: <br>‚Ä¢ Auto-scaling fino a **500 pod** per nodo virtuale<br>‚Ä¢ Scalabilit√† aumentando pool o nodi virtuali|
|**Prezzi**|Paghi per le **compute instances** attive|Paghi **solo** per le risorse effettivamente consumate dai pod|
|**Accesso SSH**|Possibile (se in subnet pubblica) previa regola NSG/Security List su TCP/22|Non previsto accesso SSH diretto ai nodi|
|**Supporto CNI**|VCN-Native + Flannel|Solo VCN-Native|
|**Gestione infrastruttura**|Parzialmente a carico del cliente|Completamente gestita da OCI (serverless)|

---

### üîç Dettagli chiave

#### **Managed Nodes**

- **Allocazione risorse**: definita per l‚Äôintero node pool; ogni nodo ha CPU e RAM fisse.
- **Load balancing**: distribuzione del traffico tra nodi; il bilanciamento tra pod avviene internamente al nodo.
- **Pod networking**: pu√≤ usare sia **VCN-Native** (IP routabili nel VCN) sia **Flannel** (overlay network).
- **Scalabilit√†**: manuale o tramite **Cluster Autoscaler**; il cliente deve monitorare e adeguare la capacit√†.
- **Prezzi**: costo basato sulle VM (shape, OCPUs, RAM) attive.
- **Accesso SSH**: richiede regola di sicurezza TCP/22 aperta (es. `0.0.0.0/0`) per subnet pubbliche.

#### **Virtual Nodes**

- **Allocazione risorse**: definita per ogni pod (`resources.requests` e `resources.limits`).
- **Load balancing**: distribuzione diretta tra pod; richiede configurazione manuale delle regole di sicurezza per LB.
- **Pod networking**: solo **VCN-Native**; 1 VNIC per nodo, IP assegnati solo alla creazione del pod; route table con NAT Gateway e Service Gateway.
- **Scalabilit√†**: automatica fino a 500 pod per nodo; si scala aumentando pool o nodi virtuali.
- **Prezzi**: costo calcolato sulle risorse effettivamente usate dai pod (OCPU/GB-ora).
- **Serverless**: nessuna gestione di patching, upgrade o provisioning infrastrutturale.

---

### üí° Quando scegliere cosa

- **Managed Nodes** ‚Üí se hai bisogno di:
    
    - Accesso SSH ai nodi
    - Supporto a CNI multipli (Flannel incluso)
    - Esecuzione di DaemonSet o configurazioni di basso livello
    - Storage persistente con PVC
- **Virtual Nodes** ‚Üí se vuoi:
    
    - Scalabilit√† rapida e automatica
    - Pagare solo per le risorse effettivamente usate
    - Eliminare la gestione infrastrutturale
    - Ambienti elastici per carichi variabili o CI/CD

---

## üìö Glossario

|Termine|Definizione|
|---|---|
|**Node Pool**|Gruppo di nodi con stessa configurazione|
|**VCN-Native CNI**|Plugin di rete OCI che assegna IP routabili ai pod|
|**Flannel CNI**|Plugin di rete overlay per Kubernetes|
|**Requests/Limits**|Parametri Kubernetes per definire risorse minime e massime per un container|
|**NAT Gateway**|Gateway per traffico in uscita verso Internet senza IP pubblico|
|**Service Gateway**|Gateway per traffico verso servizi OCI interni|

---
