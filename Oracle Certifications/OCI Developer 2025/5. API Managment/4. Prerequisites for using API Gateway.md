Per garantire **alta disponibilità** e connettività sicura, l’**OCI API Gateway** richiede una configurazione di rete e sicurezza adeguata prima della creazione.

---

## 🌐 Configurazione di rete

- **Subnet regionale**  
    L’API Gateway deve essere creato in una **regional subnet** per assicurare resilienza e ridondanza multi–Availability Domain.
    
- **Porta 443 (HTTPS)**
    
    - Utilizzata per la comunicazione sicura.
    - Non è aperta di default: occorre aggiungere una **regola di ingress stateful** nella security list o nel Network Security Group (NSG) della subnet per consentire traffico in ingresso su TCP/443.

---

## 🛠 Connettività verso i back-end

- **DHCP Options**  
    Necessarie per risolvere i nomi host dei servizi di back-end definiti nella **API Deployment Specification**.
    
- **Scenari di risoluzione DNS**:
    
    - **Back-end pubblico**: usare il **resolver Oracle-provided Internet and VCN** (default) per host pubblici o istanze nello stesso VCN.
    - **Back-end privato**: usare un **Custom Resolver** puntato a un DNS interno, ad esempio per reti collegate via **FastConnect** o VPN.
- **Accesso a Internet**  
    Se il back-end è su Internet pubblico, il VCN deve avere un **Internet Gateway** e una route appropriata.
    

---

## 📊 Schema visivo – Prerequisiti di rete

```
[Client HTTPS] 
     │ TCP/443
     ▼
[API Gateway in Regional Subnet]
     │ DHCP Options → DNS Resolver corretto
     ▼
[Backend Service: pubblico o privato]
```

---

## 📚 Glossario

|Termine|Definizione|
|---|---|
|**Regional Subnet**|Subnet distribuita su più Availability Domain all’interno di una regione OCI.|
|**Ingress Stateful Rule**|Regola firewall che consente traffico in ingresso tracciando lo stato della connessione.|
|**DHCP Options**|Configurazione di rete che definisce come i nomi host vengono risolti in indirizzi IP.|
|**Custom Resolver**|Server DNS configurato manualmente per risolvere nomi host interni o privati.|
|**FastConnect**|Connessione privata e dedicata tra il data center on-premises e OCI.|

---
