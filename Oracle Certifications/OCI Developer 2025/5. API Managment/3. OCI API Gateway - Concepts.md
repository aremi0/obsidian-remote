L’**OCI API Gateway** si basa su alcuni elementi fondamentali che definiscono come le API vengono progettate, distribuite e gestite.

---

## 🧩 Componenti principali

- **API**  
    Insieme di risorse di back-end e metodi (es. `GET`, `PUT`) invocati quando un client effettua una richiesta.
    
- **API Deployment**  
    Configurazione necessaria prima che il gateway possa gestire richieste.
    
    - Può instradare verso più servizi di back-end tramite **backend sets**.
    - Supporta **instradamento dinamico** basato su path o header.
    - Non è possibile usare i piani di utilizzo come criterio per l’autenticazione dinamica.
    - Può validare i token client tramite **JWT** o **Authorizer Function**.
- **API Deployment Specification**  
    Definisce in formato leggibile dalla macchina (JSON/YAML) le risorse di back-end, le rotte e i metodi supportati.  
    Può includere policy di autenticazione e autorizzazione, caching, logging e trasformazione delle richieste.
    
- **API Resources**  
    Rappresentano l’API in fase di design, definendo endpoint, operazioni, parametri di input/output e metodi di autenticazione.
    

---

## ❓ Note operative

- È necessario avere un **VCN** esistente per creare un API Gateway.
- Le istanze del gateway possono essere distribuite su **Fault Domain** e **Availability Domain** differenti per garantire alta disponibilità.

---

## 📊 Schema visivo – Relazioni tra i componenti

```
[API Resource]
     │ definisce
     ▼
[API Deployment Specification]
     │ usata per creare
     ▼
[API Deployment]
     │ eseguito su
     ▼
[OCI API Gateway] → Instradamento verso Backend Services
```

---

## 📚 Glossario

|Termine|Definizione|
|---|---|
|**Backend Set**|Gruppo di servizi di back-end configurati come destinazione per una rotta API.|
|**Instradamento dinamico**|Regole che determinano il back-end in base a path o header della richiesta.|
|**Authorizer Function**|Funzione OCI che valida token o credenziali personalizzate prima di consentire l’accesso.|
|**Deployment Specification**|Documento JSON/YAML che descrive rotte, metodi e policy di un’API.|
|**Fault Domain**|Raggruppamento logico di hardware all’interno di un Availability Domain per isolare guasti locali.|

---

Se vuoi, nel **Capitolo 4** posso entrare nel dettaglio delle **API Gateway Policies** e di come si integrano con IAM per controllare l’accesso alle API. Vuoi che proceda così?