In **OCI API Gateway**, la creazione di unâ€™API parte dalla definizione della sua struttura e delle regole di instradamento.  
Il formato standard per descrivere unâ€™API Ã¨ lâ€™**OpenAPI Definition** (in passato chiamata _Swagger_), che specifica endpoint, metodi, parametri e formati di input/output.

---

## ðŸ“„ OpenAPI Definition

- Descrive in modo formale le rotte (`paths`), i metodi (`GET`, `POST`, `PUT`, ecc.), i parametri e i tipi di dati.
- PuÃ² essere importata direttamente nellâ€™API Gateway per generare automaticamente una **API Deployment Specification**.

---

## ðŸ” Query String vs Response Headers

- **Query String**: parte dellâ€™URL di richiesta, usata per passare dati aggiuntivi al back-end.  
    Esempio:
    
    ```
    https://api.example.com/resource?id=123&lang=it
    ```
    
- **Response Headers**: metadati restituiti dal back-end nella risposta HTTP.  
    Possono essere modificati dal gateway tramite policy di trasformazione.

---

## ðŸ”„ Trasformazione delle risposte HTTP

Lâ€™API Gateway consente di:

- **Rinominare un header** âœ…
- **Eliminare un header** âœ…
- **Creare un nuovo header** âœ…
- **Aggiornare una query string nella risposta** âŒ (non supportato)

> Le query string possono essere modificate **solo** nelle richieste in ingresso, non nelle risposte in uscita.

---

## ðŸ“Š Schema visivo â€“ Flusso di creazione e trasformazione

```
[OpenAPI Definition]
       â”‚ importazione
       â–¼
[API Deployment Specification]
       â”‚
       â–¼
[API Gateway Deployment]
       â”‚
       â”œâ”€ Trasformazione richieste (headers + query string)
       â””â”€ Trasformazione risposte (solo headers)
```

---

## ðŸ“š Glossario

|Termine|Definizione|
|---|---|
|**OpenAPI Definition**|Specifica standard per descrivere API REST in formato leggibile da umani e macchine.|
|**API Deployment Specification**|Configurazione che definisce rotte, metodi e policy di unâ€™API in API Gateway.|
|**Query String**|Parametri aggiuntivi inclusi nellâ€™URL di una richiesta HTTP.|
|**Response Header**|Metadati inviati dal server al client nella risposta HTTP.|
|**Trasformazione**|Modifica di header o parametri applicata dal gateway a richieste o risposte.|

---
